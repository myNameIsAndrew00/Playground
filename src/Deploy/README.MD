# Deploy
Files in this directory can be used to generates de executables and libraries automatically. 

>Run `Build.bat` to generate the platform service executable and pkcs11 C library.

>Run `Install.bat` to install the platform service. Requires deploy directory which is generated by  `Build.bat` 

>Run `Unistall.bat` to unistall the platform service.

# Setup
For now, platform requires **Windows OS** as host for building and runing. To build the  service, **.NET 6 SDK tools** are required to be installed on the development machine. **.NET 6 runtime** is required to be installed on service server machine, for runing the PKCS11 service.

To build the client library, **Microsoft Visual C++** (MSVC) is required to be installed.

### Download building tools
.NET 6 SDK installer can be downloaded from here   [Download .NET 6 SDK](https://dotnet.microsoft.com/download/dotnet/6.0).

MSVC installer can be downloaded from here [Download Visual Build Tools](https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=BuildTools&rel=16).

### Download runtime tools
.NET runtime installer can be downloaded from here [Download .NET 6 runtime](https://dotnet.microsoft.com/download/dotnet/6.0).

# Build Output
After runing `Build.bat`, a directory named `deploy` will be created. It will contain

 - [ ] A directory named `Service` with binaries required by service to be installed.
 - [ ] A directory named `ConfigurationAPI` which contains the pkcs11 configuration API (which will be attached to the pkcs11 service).
 - [ ] A directory named `Library` which contains a  `dll` required by pkcs11 clients. In addition to dinamyc library, an import library `lib` is generated.
 - [ ] A directory named `Configurator` which contains the configuration application for service.
 
# Installing and Unistalling
To be able to use the platform, it must be installed on your sistem. Run `Install.bat` will create the executables in your `User` directory, from where the service will be executed.
Service will run as a windows service and configuration API will be run as a child of this process. 
To unistall the service, run `Unistall.bat`. 